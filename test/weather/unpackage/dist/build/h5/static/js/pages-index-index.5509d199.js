(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index","pages-index-Popup","pages-index-muban","pages-index-picker-view"],{"02da":function(t,e,n){"use strict";n.r(e);var i=n("c01a"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"0c08":function(t,e,n){"use strict";var i=n("7fd4"),a=n.n(i);a.a},1182:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".content[data-v-4af93944]{\n\t/* position: absolute; */\n\t/* width: 320px; */min-width:320px;max-width:1024px;\n\t/* height: 550px; */min-height:568px;max-height:1366px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-image:url(https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3258691876,3535546281&fm=26&gp=0.jpg);opacity:.5;background-size:100% 100%;background-origin:.3}.interactive[data-v-4af93944]{position:relative;margin-top:-150px;width:200px}.tx[data-v-4af93944]{position:absolute;width:%?200?%;height:%?200?%;margin-top:-300px;margin-left:30%;margin-right:auto;margin-bottom:%?50?%}.tq_data[data-v-4af93944]{position:absolute;margin-top:-58%;width:215px;text-align:center}.user_name[data-v-4af93944]{position:absolute;margin-top:-108%;width:215px;text-align:center}.title[data-v-4af93944]{position:absolute;margin-top:-98%;width:208px;text-align:center}.dl_ts[data-v-4af93944]{text-align:center}.logo[data-v-4af93944]{width:%?200?%;height:%?200?%;margin-top:%?200?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.tx[data-v-4af93944]{width:%?200?%;height:%?200?%;border-radius:50%}",""])},1484:function(t,e,n){"use strict";var i=n("9347"),a=n.n(i);a.a},2083:function(t,e,n){"use strict";n.r(e);var i=n("f333"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},3517:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"content"}),n("v-uni-view",{staticClass:"interactive"},[n("v-uni-view",{staticClass:"touxiang"},[n("v-uni-image",{staticClass:"tx",attrs:{src:t.user_tx}})],1),n("v-uni-view",{staticClass:"w_tq"},[n("v-uni-view",{staticClass:"user_name"},[t._v(t._s(t.user_name)+"-你好！")]),n("v-uni-text",{staticClass:"title"},[t._v(t._s(t.title))])],1),n("popup",{ref:"popup",staticClass:"weather",attrs:{maskModelLogin:t.maskModelLogin},on:{login:function(e){e=t.$handleEvent(e),t.login(e)}}}),n("v-uni-view",{staticClass:"tq_data"},[n("tqsj",{attrs:{city:t.city,wendu:t.wendu,fengli:t.fengli}})],1),t.dl_ts?n("v-uni-view",{staticClass:"dl_ts"},[t._v("登录后可查看天气详情:")]):t._e(),t.dl_ts?n("v-uni-view",[n("pickerView",{staticClass:"picker",on:{bindChange:function(e){e=t.$handleEvent(e),t.bindChange(e)}}})],1):t._e(),n("v-uni-button",{on:{click:function(e){e=t.$handleEvent(e),t.zhuxiao(e)}}},[t._v("注销")]),t.dl_ts?t._e():n("v-uni-view",[n("v-uni-picker",{attrs:{mode:"region",range:t.provinces},on:{change:function(e){e=t.$handleEvent(e),t.bindChange1(e)}}},[n("v-uni-button",[t._v("更换城市")])],1)],1)],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"37a5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{provinces:["点击选择所在城市"],provincesIndex:0,dl_ts:!0}},methods:{request_weather:function(t){console.log("请求天气数据"),console.log(t),uni.request({url:"https://free-api.heweather.net/s6/weather/now?location="+t+"&key=2776dacfb53f4c4c8d516cd1f3133e6b",method:"GET",data:{},success:function(t){},fail:function(){},complete:function(){}})},bindChange:function(t){console.log(t),this.$emit("bindChange",t.detail.code[2])}}};e.default=i},"3ed8":function(t,e,n){"use strict";n.r(e);var i=n("37a5"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"4c20":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".mask[data-v-799dadf4]{width:1024px;height:1000px;background-color:#87ceeb;opacity:.5;position:fixed;z-index:200;margin-top:-150% ;margin-left:-50%}.window[data-v-799dadf4]{height:%?520?%;width:%?570?%;background-color:#f0ad4e;position:fixed;z-index:201;top:50%;margin-top:%?-260?%;left:50%;margin-left:%?-285?%;border-radius:%?10?%\r\n  /* display: none; */}.window-eul[data-v-799dadf4]{font-size:%?40?%;margin-left:%?50?%;margin-top:%?50?%}.window-title[data-v-799dadf4]{font-size:%?30?%;margin-left:%?50?%;margin-top:%?39?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.window-title uni-image[data-v-799dadf4]{width:%?100?%;border-radius:50%;margin-right:%?21?%}.window-line[data-v-799dadf4]{height:1px;width:%?470?%;margin-left:%?50?%;background-color:#dcdcdc;margin-top:%?30?%}.window-content[data-v-799dadf4]{margin-top:%?40?%;margin-left:%?50?%;margin-right:%?50?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.window-circle[data-v-799dadf4]{height:%?25?%;width:%?25?%}.window-circle uni-view[data-v-799dadf4]{height:%?20?%;width:%?20?%;background-color:#999;border-radius:50%}.window-item[data-v-799dadf4]{margin-left:%?25?%;font-size:%?32?%;color:#666;font-weight:300}.window-bottom-btn[data-v-799dadf4]{height:%?80?%;width:%?460?%;margin-left:%?50?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.window-bottom-btn uni-view[data-v-799dadf4]{width:%?120?%;height:%?60?%}.window-btn[data-v-799dadf4]:after{border:none;border-radius:%?1?%;margin:0}.window-btn[data-v-799dadf4]{width:%?100?%;height:%?70?%;background:none;border:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:%?28?%;padding:0;color:#2f9e2d;border-radius:%?2?%}.window-btn-hover-class[data-v-799dadf4]{width:%?100?%;height:%?70?%;background:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:%?2?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border:none;font-size:%?28?%;padding:0;color:#2f9e2d;background-color:#dcdcdc}",""])},5131:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dl_ts?n("v-uni-view",[n("v-uni-picker",{attrs:{mode:"region",range:t.provinces},on:{change:function(e){e=t.$handleEvent(e),t.bindChange(e)}}},[n("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v("未获取到您所在城市")]),n("v-uni-button",[t._v(t._s(t.provinces[t.provincesIndex]))])],1)],1):t._e()},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"559f":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".main[data-v-35eee836]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.top[data-v-35eee836]{line-height:25px}",""])},"5a60":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.maskModelLogin?n("v-uni-view",[n("v-uni-view",{staticClass:"mask"}),n("v-uni-view",{staticClass:"window"},[n("v-uni-view",{staticClass:"window-eul"},[t._v("微信授权")]),n("v-uni-view",{staticClass:"window-title"},[n("v-uni-image",{attrs:{mode:"widthFix",src:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=229448546,829752387&fm=26&gp=0.jpg"}}),t._v("申请获取以下权限：")],1),n("v-uni-view",{staticClass:"window-line"}),n("v-uni-view",{staticClass:"window-content"},[n("v-uni-view",{staticClass:"window-circle"},[n("v-uni-view")],1),n("v-uni-view",{staticClass:"window-item"},[t._v("获得你的公开信息（昵称、头像等）")])],1),n("v-uni-view",{staticClass:"window-bottom-btn"},[n("v-uni-view",[n("v-uni-button",{staticClass:"window-btn",attrs:{"open-type":"getUserInfo","hover-class":"window-btn-hover-class","hover-start-time":"0","hover-stay-time":"0"},on:{getuserinfo:function(e){e=t.$handleEvent(e),t.login(e)}}},[t._v("确定")])],1)],1)],1)],1):t._e()},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},7454:function(t,e,n){"use strict";n.r(e);var i=n("8f6c"),a=n("8073");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("0c08");var s=n("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"35eee836",null);e["default"]=r.exports},"7fd4":function(t,e,n){var i=n("559f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("603588be",i,!0,{sourceMap:!1,shadowMode:!1})},8073:function(t,e,n){"use strict";n.r(e);var i=n("d288"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"8f2c":function(t,e,n){"use strict";n.r(e);var i=n("5131"),a=n("3ed8");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);var s=n("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"a5d44c40",null);e["default"]=r.exports},"8f6c":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"city"},[t._v("你所在城市是: "+t._s(t.city))]),n("v-uni-view",{staticClass:"wendu"},[t._v("你所在城市的温度: "+t._s(t.wendu))]),n("v-uni-view",{staticClass:"fengli"},[t._v("你所在城市的风力等级: "+t._s(t.fengli))])],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},9347:function(t,e,n){var i=n("1182");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("6dda9546",i,!0,{sourceMap:!1,shadowMode:!1})},a850:function(t,e,n){"use strict";var i=n("b0cc"),a=n.n(i);a.a},add2:function(t,e,n){"use strict";n.r(e);var i=n("3517"),a=n("2083");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("1484");var s=n("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"4af93944",null);e["default"]=r.exports},b0cc:function(t,e,n){var i=n("4c20");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1c413b82",i,!0,{sourceMap:!1,shadowMode:!1})},c01a:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{maskModelLogin:{type:Boolean,default:!1}},data:function(){return{}},onLoad:function(){console.log("子组件："+props.maskModelLogin.Boolean)},components:{},methods:{login:function(t){this.$emit("login",t)}}};e.default=i},d288:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{city:{type:String,default:"暂无数据"},wendu:{type:String,default:"暂无数据"},fengli:{type:String,default:"暂无数据"}},data:function(){return{}}};e.default=i},f333:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("feab")),o=i(n("7454")),s=i(n("8f2c")),r={data:function(){return{title:"今天也是充满希望的一天",json:{},city:"",wendu:"",fengli:"",url:"https://www.kunyang0106.com/index.php/",dl_ts:!1,maskModelLogin:!0,user_id:"",user_name:"",userCity:"",user_tx:"",provinces:["更换城市"],provincesIndex:0}},onLoad:function(){},onShow:function(){var t=this;uni.getStorageSync("moni_signIn_key")?uni.getUserInfo({provider:"weixin",success:function(e){console.log(e),JSON.parse(e.rawData).province?(t.userCity=JSON.parse(e.rawData).province.toLowerCase(),t.user_tx=JSON.parse(e.rawData).avatarUrl,t.user_name=JSON.parse(e.rawData).nickName,t.request_weather(t.userCity),t.maskModelLogin=!1,t.dl_ts=!1):console.log("未获取到用户所在城市")}}):(this.maskModelLogin=!0,console.log("弹窗状态"+this.maskModelLogin),this.dl_ts=!0,uni.getUserInfo({provider:"weixin",success:function(e){console.log(e),t.userCity=JSON.parse(e.rawData).province.toLowerCase(),t.user_tx=JSON.parse(e.rawData).avatarUrl,t.user_name=JSON.parse(e.rawData).nickName},fail:function(){uni.showLoading({title:"未获取你的信息"}),setTimeout(function(){uni.hideLoading()},2e3)}}))},onHide:function(){},components:{tqsj:o.default,popup:a.default,pickerView:s.default},methods:{denglu:function(){var t=this;uni.login({provider:"weixin",success:function(e){console.log(e.code),uni.request({url:t.url+"v1/user",method:"POST",data:{jscode:e.code},success:function(e){console.log(e),console.log(e.data.data.userid),t.signKey(e.data.data.userid)},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}})},login:function(t){var e=this;JSON.parse(t.detail.rawData).province?(e.userCity=JSON.parse(t.detail.rawData).province.toLowerCase(),this.user_tx=JSON.parse(t.detail.rawData).avatarUrl,this.user_name=JSON.parse(t.detail.rawData).nickName,e.request_weather(e.userCity),this.maskModelLogin=!1,this.dl_ts=!1,e.moni_signKey(1)):(this.user_tx=JSON.parse(t.detail.rawData).avatarUrl,this.user_name=JSON.parse(t.detail.rawData).nickName,console.log("未获取到用户所在城市"),this.maskModelLogin=!1,uni.showLoading({title:"未获取所在城市"}),setTimeout(function(){uni.hideLoading()},2e3))},request_weather:function(t){var e=this;uni.request({url:"https://free-api.heweather.net/s6/weather/now?location="+t+"&key=2776dacfb53f4c4c8d516cd1f3133e6b",method:"GET",data:{},success:function(t){var n=e;n.city=t.data.HeWeather6[0].basic.parent_city,n.wendu=t.data.HeWeather6[0].now.fl,n.fengli=t.data.HeWeather6[0].now.wind_sc},fail:function(){},complete:function(){}})},signKey:function(t){try{uni.setStorageSync("signIn_key",t),console.log(t),console.log("登录态存储成功")}catch(t){console.log("登录态存储失败")}},moni_signKey:function(t){try{uni.setStorageSync("moni_signIn_key",t),console.log(t),console.log("登录态存储成功")}catch(t){console.log("登录态存储失败")}},uGetuserinfo:function(){uni.getUserInfo({provider:"weixin",success:function(t){console.log(t),that.json=JSON.parse(t.rawData),console.log(that.json.province),that.json.province?(that.userCity=that.json.province.toLowerCase(),that.user_tx=that.json.avatarUrl,that.user_name=that.json.nickName,that.request_weather(that.userCity),that.maskModelLogin=!1):console.log("未获取到用户所在城市")}})},zhuxiao:function(){uni.clearStorage(),console.log("登录态注销成功"),console.log(this.user_id)},diaoyong:function(){var t=this.$refs.popup.login();console.log(t)},bindChange:function(t){var e=this;console.log(t),e.request_weather(t.detail.__args__[0]),e.dl_ts=!1,console.log(this.dl_ts)},bindChange1:function(t){var e=this;console.log(t),e.request_weather(t.detail.code[2])}}};e.default=r},feab:function(t,e,n){"use strict";n.r(e);var i=n("5a60"),a=n("02da");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("a850");var s=n("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"799dadf4",null);e["default"]=r.exports}}]);